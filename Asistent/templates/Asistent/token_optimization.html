{% extends 'base_tailwind.html' %}
{% load static %}

{% block title %}–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤ GigaChat{% endblock %}

{% block content %}
<!-- –ê–¥–º–∏–Ω –Ω–∞–≤–∏–≥–∞—Ü–∏—è -->
{% include 'partials/admin_navigation.html' %}

<div class="min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-gray-900 py-8">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
        <div class="mb-8">
            <div class="flex items-center justify-between flex-wrap gap-4">
                <div>
                    <h1 class="text-4xl font-black text-white mb-2">
                        üí∞ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤ GigaChat
                    </h1>
                    <p class="text-xl text-gray-300">–ê–Ω–∞–ª–∏–∑ –∑–∞—Ç—Ä–∞—Ç –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —ç–∫–æ–Ω–æ–º–∏–∏</p>
                </div>
                <button onclick="refreshTokenAnalysis()" 
                        class="px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white font-semibold rounded-lg transition-colors flex items-center gap-2">
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z" clip-rule="evenodd"></path>
                    </svg>
                    –û–±–Ω–æ–≤–∏—Ç—å
                </button>
            </div>
        </div>
        
        <!-- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á –ø–æ –º–æ–¥–µ–ª—è–º -->
        <div class="bg-white/10 backdrop-blur-md rounded-2xl p-6 border border-white/20 mb-8">
            <h2 class="text-2xl font-bold text-white mb-6 flex items-center gap-2">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path>
                </svg>
                –¢–µ–∫—É—â–µ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á
            </h2>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <!-- GigaChat (Lite) -->
                <div class="bg-blue-500/10 rounded-xl p-6 border border-blue-500/30">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-xl font-bold text-white">GigaChat Lite</h3>
                        <span class="px-3 py-1 bg-blue-500/20 text-blue-300 rounded-full text-xs font-bold">194‚ÇΩ/1M</span>
                    </div>
                    <ul class="space-y-2 text-sm text-gray-300">
                        <li>‚Ä¢ SEO –º–µ—Ç–∞-—Ç–µ–≥–∏</li>
                        <li>‚Ä¢ FAQ –±–ª–æ–∫–∏</li>
                        <li>‚Ä¢ Alt-—Ç–µ–≥–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π</li>
                        <li>‚Ä¢ –ú–æ–¥–µ—Ä–∞—Ü–∏—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤</li>
                        <li>‚Ä¢ <strong class="text-white">–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ç–∞—Ç–µ–π</strong> (–º–∞—Å—Å–æ–≤–æ)</li>
                        <li>‚Ä¢ –ü—Ä–æ—Å—Ç—ã–µ –∫–æ–º–∞–Ω–¥—ã –∞–≥–µ–Ω—Ç–∞</li>
                    </ul>
                    <div class="mt-4 pt-4 border-t border-blue-500/20">
                        <p class="text-blue-300 font-bold">30M —Ç–æ–∫–µ–Ω–æ–≤ –¥–æ—Å—Ç—É–ø–Ω–æ</p>
                    </div>
                </div>
                
                <!-- GigaChat Pro -->
                <div class="bg-green-500/10 rounded-xl p-6 border border-green-500/30">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-xl font-bold text-white">GigaChat Pro</h3>
                        <span class="px-3 py-1 bg-green-500/20 text-green-300 rounded-full text-xs font-bold">1500‚ÇΩ/1M</span>
                    </div>
                    <ul class="space-y-2 text-sm text-gray-300">
                        <li>‚Ä¢ –ú–æ–¥–µ—Ä–∞—Ü–∏—è —Å—Ç–∞—Ç–µ–π –∞–≤—Ç–æ—Ä–æ–≤</li>
                        <li>‚Ä¢ –£–ª—É—á—à–µ–Ω–∏–µ —á–µ—Ä–Ω–æ–≤–∏–∫–æ–≤</li>
                        <li>‚Ä¢ –ê–Ω–∞–ª–∏–∑ —Å—Ç–∏–ª—è –∞–≤—Ç–æ—Ä–∞</li>
                        <li>‚Ä¢ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è–º–∏</li>
                        <li>‚Ä¢ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö —Å—Ç–∞—Ç–µ–π</li>
                        <li>‚Ä¢ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π</li>
                    </ul>
                    <div class="mt-4 pt-4 border-t border-green-500/20">
                        <p class="text-green-300 font-bold">1M —Ç–æ–∫–µ–Ω–æ–≤ –¥–æ—Å—Ç—É–ø–Ω–æ</p>
                    </div>
                </div>
                
                <!-- GigaChat Max -->
                <div class="bg-purple-500/10 rounded-xl p-6 border border-purple-500/30">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-xl font-bold text-white">GigaChat Max</h3>
                        <span class="px-3 py-1 bg-purple-500/20 text-purple-300 rounded-full text-xs font-bold">1950‚ÇΩ/1M</span>
                    </div>
                    <ul class="space-y-2 text-sm text-gray-300">
                        <li>‚Ä¢ –ö—Ä–µ–∞—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏</li>
                        <li>‚Ä¢ –°–ª–æ–∂–Ω—ã–π –∞–Ω–∞–ª–∏–∑</li>
                        <li>‚Ä¢ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞</li>
                        <li>‚Ä¢ –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã –∏ —Ç–µ—Å—Ç—ã</li>
                    </ul>
                    <div class="mt-4 pt-4 border-t border-purple-500/20">
                        <p class="text-purple-300 font-bold">1M —Ç–æ–∫–µ–Ω–æ–≤ –¥–æ—Å—Ç—É–ø–Ω–æ</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ -->
        <div class="bg-white/10 backdrop-blur-md rounded-2xl p-6 border border-white/20 mb-8">
            <h2 class="text-2xl font-bold text-white mb-6 flex items-center gap-2">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" clip-rule="evenodd"></path>
                </svg>
                –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
            </h2>
            
            <div class="space-y-4" id="recommendations-container">
                
                <div class="bg-green-500/10 border border-green-500/30 rounded-lg p-4 flex items-start gap-3">
                    <svg class="w-6 h-6 text-green-400 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                    </svg>
                    <div>
                        <p class="text-green-300 font-semibold">‚úÖ –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</p>
                        <p class="text-gray-300 text-sm mt-1">
                            –ú–∞—Å—Å–æ–≤–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ç–∞—Ç–µ–π –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–∞ –Ω–∞ GigaChat Lite (194‚ÇΩ/1M) - —ç–∫–æ–Ω–æ–º–∏—è –¥–æ 90% —Ç–æ–∫–µ–Ω–æ–≤!
                        </p>
                    </div>
                </div>
                
                <div class="bg-blue-500/10 border border-blue-500/30 rounded-lg p-4 flex items-start gap-3">
                    <svg class="w-6 h-6 text-blue-400 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                    </svg>
                    <div>
                        <p class="text-blue-300 font-semibold">üí° –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ–º–ø—Ç—ã –∏–∑ –ë–î</p>
                        <p class="text-gray-300 text-sm mt-1">
                            –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º—ã–µ –ø—Ä–æ–º–ø—Ç—ã –ø–æ–∑–≤–æ–ª—è—é—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞. –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Å —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞–º–∏ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ª—É—á—à–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø—Ä–∏ –º–µ–Ω—å—à–∏—Ö –∑–∞—Ç—Ä–∞—Ç–∞—Ö.
                        </p>
                    </div>
                </div>
                
                <div class="bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4 flex items-start gap-3">
                    <svg class="w-6 h-6 text-yellow-400 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path>
                    </svg>
                    <div>
                        <p class="text-yellow-300 font-semibold">‚ö†Ô∏è –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ —Ä–∞—Å—Ö–æ–¥</p>
                        <p class="text-gray-300 text-sm mt-1">
                            –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –±–∞–ª–∞–Ω—Å —Ç–æ–∫–µ–Ω–æ–≤ —Ä–µ–≥—É–ª—è—Ä–Ω–æ. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫—É –ø–æ—Å–ª–µ –∫–∞–∂–¥—ã—Ö 10-20 –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è —Å–≤–æ–µ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–æ–¥–µ–ª–µ–π.
                        </p>
                    </div>
                </div>
                
            </div>
        </div>
        
        <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è -->
        <div class="bg-white/10 backdrop-blur-md rounded-2xl p-6 border border-white/20">
            <h2 class="text-2xl font-bold text-white mb-6">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–∑–∞ 30 –¥–Ω–µ–π)</h2>
            
            <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
                {% for stat in model_stats %}
                <div class="bg-white/5 rounded-lg p-4">
                    <p class="text-gray-400 text-sm mb-2">{{ stat.model_name }}</p>
                    <p class="text-3xl font-bold text-white mb-2">{{ stat.total_requests }}</p>
                    <p class="text-sm text-gray-300">–∑–∞–ø—Ä–æ—Å–æ–≤</p>
                    <div class="mt-3 flex items-center justify-between text-xs">
                        <span class="text-green-400">‚úì {{ stat.successful_requests }}</span>
                        <span class="text-red-400">‚úó {{ stat.failed_requests }}</span>
                    </div>
                    <div class="mt-2 text-xs text-gray-400">
                        Success: {{ stat.success_rate|floatformat:1 }}%
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
        
    </div>
</div>

<script>
async function refreshTokenAnalysis() {
    try {
        const response = await fetch('/asistent/api/token-analysis/');
        const data = await response.json();
        
        if (data.success) {
            location.reload();
        }
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:', error);
    }
}
</script>
{% endblock %}



