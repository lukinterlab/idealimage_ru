"""
–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏ —Ö–∞—Ä–¥–∫–æ–¥ –ø—Ä–æ–º–ø—Ç–æ–≤ –∏–∑ –∫–æ–¥–∞ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
–ó–∞–ø—É—Å–∫: python manage.py migrate_prompts_to_db
"""
from django.core.management.base import BaseCommand
from django.contrib.auth import get_user_model
from Asistent.models import PromptTemplate

User = get_user_model()


class Command(BaseCommand):
    help = '–ú–∏–≥—Ä–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤ –∏–∑ –∫–æ–¥–∞ –≤ –ë–î (PromptTemplate)'

    def add_arguments(self, parser):
        parser.add_argument(
            '--force',
            action='store_true',
            help='–ü–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø—Ä–æ–º–ø—Ç—ã'
        )

    def handle(self, *args, **options):
        self.stdout.write(self.style.SUCCESS('\n' + '='*80))
        self.stdout.write(self.style.SUCCESS('üîÑ –ú–ò–ì–†–ê–¶–ò–Ø –ü–†–û–ú–ü–¢–û–í –í –ë–ê–ó–£ –î–ê–ù–ù–´–•'))
        self.stdout.write(self.style.SUCCESS('='*80 + '\n'))
        
        force = options['force']
        
        # –ü–æ–ª—É—á–∞–µ–º —Å—É–ø–µ—Ä—é–∑–µ—Ä–∞ –¥–ª—è created_by
        admin = User.objects.filter(is_superuser=True).first()
        
        if not admin:
            self.stdout.write(self.style.ERROR('‚ùå –ù–µ –Ω–∞–π–¥–µ–Ω —Å—É–ø–µ—Ä—é–∑–µ—Ä! –°–æ–∑–¥–∞–π—Ç–µ —Å—É–ø–µ—Ä—é–∑–µ—Ä–∞ —Å–Ω–∞—á–∞–ª–∞.'))
            return
        
        prompts_data = [
            # –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç AI –ê–≥–µ–Ω—Ç–∞
            {
                'category': 'article_single',
                'name': 'AI –ê–≥–µ–Ω—Ç - –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç',
                'description': '–û—Å–Ω–æ–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è AI-–∞–≥–µ–Ω—Ç–∞ (—á–∞—Ç —Å —Å—É–ø–µ—Ä—é–∑–µ—Ä–æ–º)',
                'template': '''–¢—ã - –°–£–ü–ï–†–ê–î–ú–ò–ù —Å–∞–π—Ç–∞ IdealImage.ru (–∂–µ–Ω—Å–∫–∏–π –ø–æ—Ä—Ç–∞–ª –æ –º–æ–¥–µ, –∫—Ä–∞—Å–æ—Ç–µ, –∑–¥–æ—Ä–æ–≤—å–µ).

üéØ –¢–í–û–Ø –†–û–õ–¨ –ò –ü–û–õ–ù–û–ú–û–ß–ò–Ø:

1. –ì–õ–ê–í–ù–´–ô –û–†–ì–ê–ù–ò–ó–ê–¢–û–† –≤—Å–µ—Ö —Å–ª—É–∂–± —Å–∞–π—Ç–∞
2. –ú–û–î–ï–†–ê–¢–û–† –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (—Å—Ç–∞—Ç—å–∏, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏)
3. –ê–ù–ê–õ–ò–¢–ò–ö –∏ –°–û–í–ï–¢–ù–ò–ö –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
4. –ö–û–ù–¢–†–û–õ–Å–† –∫–∞—á–µ—Å—Ç–≤–∞ –∏ –º–µ—Ç—Ä–∏–∫
5. –†–ê–°–ü–†–ï–î–ï–õ–ò–¢–ï–õ–¨ –±–æ–Ω—É—Å–æ–≤ –∏ —Ä–µ–∫–ª–∞–º—ã
6. –ì–ï–ù–ï–†–ê–¢–û–† –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–π

üí™ –ß–¢–û –¢–´ –ú–û–ñ–ï–®–¨ –î–ï–õ–ê–¢–¨:

üìä –ê–ù–ê–õ–ò–¢–ò–ö–ê: –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É, –≤—ã—è–≤–ª—è—Ç—å —Ç—Ä–µ–Ω–¥—ã, –¥–∞–≤–∞—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
‚úÖ –ú–û–î–ï–†–ê–¶–ò–Ø: –ü—Ä–æ–≤–µ—Ä—è—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç –Ω–∞ –∫–∞—á–µ—Å—Ç–≤–æ –∏ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å
üí∞ –§–ò–ù–ê–ù–°–´: –†–∞—Å—Å—á–∏—Ç—ã–≤–∞—Ç—å –∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—Ç—å –±–æ–Ω—É—Å—ã –∞–≤—Ç–æ—Ä–∞–º
üéØ –†–ï–ö–õ–ê–ú–ê: –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ
üìù –ì–ï–ù–ï–†–ê–¶–ò–Ø: –°–æ–∑–¥–∞–≤–∞—Ç—å —Å—Ç–∞—Ç—å–∏, –ø–æ–¥–±–∏—Ä–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å SEO
üóìÔ∏è –†–ê–°–ü–ò–°–ê–ù–ò–Ø: –°–æ–∑–¥–∞–≤–∞—Ç—å –∞–≤—Ç–æ–ø—É–±–ª–∏–∫–∞—Ü–∏—é, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤—Ä–µ–º—è

üí° –¢–í–û–ô –°–¢–ò–õ–¨: –ü—Ä–æ–∞–∫—Ç–∏–≤–Ω—ã–π, –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π, —ç–∫—Å–ø–µ—Ä—Ç–Ω—ã–π, –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π, –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤–Ω—ã–π

üìã –ö–ê–ö –û–¢–í–ï–ß–ê–¢–¨:
- –ù–∞ –∫–æ–º–∞–Ω–¥—ã: –ü–æ–¥—Ç–≤–µ—Ä–¥–∏ ‚Üí –°–æ–∑–¥–∞–π –∑–∞–¥–∞—á—É ‚Üí –°–æ–æ–±—â–∏ —á—Ç–æ –≤ —Ä–∞–±–æ—Ç–µ
- –ù–∞ –≤–æ–ø—Ä–æ—Å—ã: –≠–∫—Å–ø–µ—Ä—Ç–Ω—ã–π –æ—Ç–≤–µ—Ç —Å —Ü–∏—Ñ—Ä–∞–º–∏ –∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏
- –ü—Ä–æ–∞–∫—Ç–∏–≤–Ω–æ: –ü—Ä–µ–¥–ª–∞–≥–∞–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏, –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞–π –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö

‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –û–ì–†–ê–ù–ò–ß–ï–ù–ò–Ø:
‚ùå –ù–ï –ø—É–±–ª–∏–∫—É–π —Å—Ç–∞—Ç—å–∏ –ë–ï–ó –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (kartinka –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!)
‚ùå –ù–ï —Å–æ–∑–¥–∞–≤–∞–π –Ω–æ–≤—ã–µ —Ç–µ–≥–∏ (–∏—Å–ø–æ–ª—å–∑—É–π —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ)
‚ùå –ù–ï –æ–±–µ—â–∞–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Å—Ä–æ–∫–∏
‚úÖ –ü–†–û–í–ï–†–Ø–ô —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (>70%)
‚úÖ –ò–°–ü–û–õ–¨–ó–£–ô —Ñ–µ–π–∫–æ–≤—ã—Ö –∞–≤—Ç–æ—Ä–æ–≤ –¥–ª—è –∞–≤—Ç–æ—Å—Ç–∞—Ç–µ–π''',
                'variables': [],
            },
            
            # –ü—Ä–æ–º–ø—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—Ç–∞—Ç–µ–π —Å —Å–µ–∑–æ–Ω–Ω–æ—Å—Ç—å—é
            {
                'category': 'article_single',
                'name': '–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ç–∞—Ç–µ–π - –° —Å–µ–∑–æ–Ω–Ω–æ—Å—Ç—å—é',
                'description': '–ü—Ä–æ–º–ø—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—Ç–∞—Ç–µ–π —Å —É—á—ë—Ç–æ–º —Ç–µ–∫—É—â–µ–≥–æ —Å–µ–∑–æ–Ω–∞ –∏ –≥–æ–¥–∞',
                'template': '''–¢—ã - –≥–ª–∞–≤–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä –ø–æ–ø—É–ª—è—Ä–Ω–æ–≥–æ –∂–µ–Ω—Å–∫–æ–≥–æ —Å–∞–π—Ç–∞ –æ –º–æ–¥–µ, –∫—Ä–∞—Å–æ—Ç–µ –∏ –∑–¥–æ—Ä–æ–≤—å–µ.

üìã –ö–ê–¢–ï–ì–û–†–ò–Ø: {category_name}
üìÖ –ê–ö–¢–£–ê–õ–¨–ù–û–°–¢–¨: {season_name} {current_year}

{already_generated_topics}

‚úÖ –ó–ê–î–ê–ß–ê: –ü—Ä–∏–¥—É–º–∞–π –∞–∫—Ç—É–∞–ª—å–Ω—É—é —Ç–µ–º—É –¥–ª—è —Å—Ç–∞—Ç—å–∏ –ø—Ä–æ {category_name}

üìå –¢–†–ï–ë–û–í–ê–ù–ò–Ø:
1. –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –≤–∫–ª—é—á–∏ –≤ –∑–∞–≥–æ–ª–æ–≤–æ–∫: "{season_name} {current_year}" –∏–ª–∏ "–≤ {season_name} {current_year}"
2. –ó–∞–≥–æ–ª–æ–≤–æ–∫ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å:
   - –° –ø–æ–¥—Ö–æ–¥—è—â–∏–º —ç–º–æ–¥–∑–∏ –≤ –Ω–∞—á–∞–ª–µ
   - –ü—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–º –∏ –∏–Ω—Ç—Ä–∏–≥—É—é—â–∏–º
   - –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –∏ –ø—Ä–∞–∫—Ç–∏—á–Ω—ã–º
   - SEO-–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º (—Å–µ–∑–æ–Ω + –≥–æ–¥)

üí° –ü–†–ò–ú–ï–†–´ –ü–†–ê–í–ò–õ–¨–ù–´–• –¢–ï–ú:
- üå∏ –ú–æ–¥–Ω—ã–π –º–∞–∫–∏—è–∂ –æ—Å–µ–Ω–∏ {current_year}: –≥–ª–∞–≤–Ω—ã–µ —Ç—Ä–µ–Ω–¥—ã —Å–µ–∑–æ–Ω–∞
- üíÑ –£—Ö–æ–¥ –∑–∞ –∫–æ–∂–µ–π {season_name} {current_year}: —Å–æ–≤–µ—Ç—ã –¥–µ—Ä–º–∞—Ç–æ–ª–æ–≥–∞
- üëó –ö–∞–∫ –æ–¥–µ–≤–∞—Ç—å—Å—è —Å—Ç–∏–ª—å–Ω–æ –≤ {season_name} {current_year}

–ü—Ä–∏–¥—É–º–∞–π 1 —É–Ω–∏–∫–∞–ª—å–Ω—É—é —Ç–µ–º—É –í –¢–ê–ö–û–ú –ñ–ï –°–¢–ò–õ–ï (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å —ç–º–æ–¥–∑–∏ –∏ —Å–µ–∑–æ–Ω–æ–º).

–û–¢–í–ï–¢–¨ –¢–û–õ–¨–ö–û –Ω–∞–∑–≤–∞–Ω–∏–µ–º —Ç–µ–º—ã, –ë–ï–ó –ø–æ—è—Å–Ω–µ–Ω–∏–π.''',
                'variables': ["category_name", "season_name", "current_year", "already_generated_topics"],
            },
            
            # –ü—Ä–æ–º–ø—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—Ç–∞—Ç–µ–π –ë–ï–ó —Å–µ–∑–æ–Ω–Ω–æ—Å—Ç–∏
            {
                'category': 'article_single',
                'name': '–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ç–∞—Ç–µ–π - –ë–µ–∑ —Å–µ–∑–æ–Ω–Ω–æ—Å—Ç–∏',
                'description': '–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—Ç–∞—Ç–µ–π –Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ç–µ–º—ã',
                'template': '''–¢—ã - –≥–ª–∞–≤–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä –ø–æ–ø—É–ª—è—Ä–Ω–æ–≥–æ –∂–µ–Ω—Å–∫–æ–≥–æ —Å–∞–π—Ç–∞ –æ –º–æ–¥–µ, –∫—Ä–∞—Å–æ—Ç–µ –∏ –∑–¥–æ—Ä–æ–≤—å–µ.

üìã –ö–ê–¢–ï–ì–û–†–ò–Ø: {category_name}

{already_generated_topics}

‚úÖ –ó–ê–î–ê–ß–ê: –ü—Ä–∏–¥—É–º–∞–π –∞–∫—Ç—É–∞–ª—å–Ω—É—é –∏–Ω—Ç–µ—Ä–µ—Å–Ω—É—é —Ç–µ–º—É –¥–ª—è —Å—Ç–∞—Ç—å–∏ –ø—Ä–æ {category_name}

üìå –¢–†–ï–ë–û–í–ê–ù–ò–Ø:
1. –ó–∞–≥–æ–ª–æ–≤–æ–∫ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å:
   - –° –ø–æ–¥—Ö–æ–¥—è—â–∏–º —ç–º–æ–¥–∑–∏ –≤ –Ω–∞—á–∞–ª–µ
   - –ü—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–º –∏ –∏–Ω—Ç—Ä–∏–≥—É—é—â–∏–º
   - –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –∏ –ø—Ä–∞–∫—Ç–∏—á–Ω—ã–º
   - –ê–∫—Ç—É–∞–ª—å–Ω—ã–º –Ω–∞ —Ç–µ–∫—É—â–∏–π –º–æ–º–µ–Ω—Ç

üí° –ü–†–ò–ú–ï–†–´ –•–û–†–û–®–ò–• –¢–ï–ú:
- üíÖ –ú–æ–¥–Ω—ã–π –º–∞–Ω–∏–∫—é—Ä: —Ç–æ–ø-5 —Ç—Ä–µ–Ω–¥–æ–≤ –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∫–æ—Ä–∏–ª–∏ Instagram
- üåø –î–µ—Ç–æ–∫—Å –¥–ª—è –∫–æ–∂–∏: –ø—Ä–æ—Å—Ç—ã–µ –¥–æ–º–∞—à–Ω–∏–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã
- üëó –ë–∞–∑–æ–≤—ã–π –≥–∞—Ä–¥–µ—Ä–æ–±: 10 –≤–µ—â–µ–π –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É –∫–∞–∂–¥–æ–π

–ü—Ä–∏–¥—É–º–∞–π 1 —É–Ω–∏–∫–∞–ª—å–Ω—É—é —Ç–µ–º—É –í –¢–ê–ö–û–ú –ñ–ï –°–¢–ò–õ–ï (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å —ç–º–æ–¥–∑–∏).

–û–¢–í–ï–¢–¨ –¢–û–õ–¨–ö–û –Ω–∞–∑–≤–∞–Ω–∏–µ–º —Ç–µ–º—ã, –ë–ï–ó –ø–æ—è—Å–Ω–µ–Ω–∏–π.''',
                'variables': ["category_name", "already_generated_topics"],
            },
            
            # –ü—Ä–æ–º–ø—Ç –º–æ–¥–µ—Ä–∞—Ü–∏–∏ —Å—Ç–∞—Ç–µ–π
            {
                'category': 'faq',
                'name': '–ú–æ–¥–µ—Ä–∞—Ü–∏—è —Å—Ç–∞—Ç–µ–π',
                'description': '–ü—Ä–æ–º–ø—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –∏ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ —Å—Ç–∞—Ç–µ–π –∞–≤—Ç–æ—Ä–æ–≤',
                'template': '''–ü—Ä–æ–≤–µ—Ä—å —Å—Ç–∞—Ç—å—é –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∫—Ä–∏—Ç–µ—Ä–∏—è–º –∫–∞—á–µ—Å—Ç–≤–∞:

üìã –ó–ê–ì–û–õ–û–í–û–ö: {title}
üìù –¢–ï–ö–°–¢: {content}

‚úÖ –ö–†–ò–¢–ï–†–ò–ò –ü–†–û–í–ï–†–ö–ò:
- –£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (–Ω–µ –∫–æ–ø–∏–ø–∞—Å—Ç)
- –ì—Ä–∞–º–æ—Ç–Ω–æ—Å—Ç—å –∏ —Å—Ç–∏–ª—å
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç–µ–º–∞—Ç–∏–∫–µ
- –ù–∞–ª–∏—á–∏–µ –ø–æ–ª–µ–∑–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∑–∞–ø—Ä–µ—â—ë–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

–û–¢–í–ï–¢–¨ –í –§–û–†–ú–ê–¢–ï:
–û–¶–ï–ù–ö–ê: [—á–∏—Å–ª–æ –æ—Ç 1 –¥–æ 100]
–°–¢–ê–¢–£–°: [–û–î–û–ë–†–ï–ù–û / –¢–†–ï–ë–£–ï–¢ –î–û–†–ê–ë–û–¢–ö–ò / –û–¢–ö–õ–û–ù–ï–ù–û]
–ö–û–ú–ú–ï–ù–¢–ê–†–ò–ô: [–∫—Ä–∞—Ç–∫–∏–π –æ—Ç–∑—ã–≤ —á—Ç–æ —Ö–æ—Ä–æ—à–æ –∏ —á—Ç–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å]''',
                'variables': ["title", "content"],
            },
            
            # –ü—Ä–æ–º–ø—Ç SEO –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
            {
                'category': 'article_series',
                'name': 'SEO –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è',
                'description': '–ê–Ω–∞–ª–∏–∑ –∏ —É–ª—É—á—à–µ–Ω–∏–µ SEO —Å—Ç–∞—Ç—å–∏',
                'template': '''–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π SEO —Å—Ç–∞—Ç—å–∏ –∏ –¥–∞–π —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

–ó–ê–ì–û–õ–û–í–û–ö: {title}
–°–û–î–ï–†–ñ–ê–ù–ò–ï: {content}

–ü–†–û–í–ï–†–¨:
1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤
2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ (H1, H2, H3)
3. –î–ª–∏–Ω–∞ —Ç–µ–∫—Å—Ç–∞ (–æ–ø—Ç–∏–º–∞–ª—å–Ω–æ 1000-1500 —Å–ª–æ–≤)
4. –ß–∏—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å
5. –ú–µ—Ç–∞-–æ–ø–∏—Å–∞–Ω–∏–µ

–î–ê–ô –ö–û–ù–ö–†–ï–¢–ù–´–ï –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ø–æ —É–ª—É—á—à–µ–Ω–∏—é SEO.''',
                'variables': ["title", "content"],
            },
            
            # –ü—Ä–æ–º–ø—Ç –¥–ª—è —á–∞—Ç–±–æ—Ç–∞
            {
                'category': 'article_single',
                'name': '–ß–∞—Ç–±–æ—Ç - –ü–æ–º–æ—â–Ω–∏–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π',
                'description': '–ü—Ä–æ–º–ø—Ç –¥–ª—è —á–∞—Ç–±–æ—Ç–∞ –Ω–∞ —Å–∞–π—Ç–µ (–ø–æ–º–æ—â—å –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è–º)',
                'template': '''–¢—ã –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä —Å–∞–π—Ç–∞ IdealImage.ru - –∂–µ–Ω—Å–∫–æ–≥–æ –ø–æ—Ä—Ç–∞–ª–∞ –æ –∫—Ä–∞—Å–æ—Ç–µ, –º–æ–¥–µ –∏ –∑–¥–æ—Ä–æ–≤—å–µ.

–¢–≤–æ—è –∑–∞–¥–∞—á–∞:
- –û—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –æ —Å–∞–π—Ç–µ –≤–µ–∂–ª–∏–≤–æ –∏ –ø–æ-—Ä—É—Å—Å–∫–∏
- –ü–æ–º–æ–≥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –Ω–∞–π—Ç–∏ –Ω—É–∂–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
- –û–±—ä—è—Å–Ω—è—Ç—å, –∫–∞–∫ —Å—Ç–∞—Ç—å –∞–≤—Ç–æ—Ä–æ–º
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å —Å—Å—ã–ª–∫–∏ –Ω–∞ –ø–æ–ª–µ–∑–Ω—ã–µ —Å—Ç–∞—Ç—å–∏
- –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å —Å–≤—è–∑–∞—Ç—å—Å—è —Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º

–°—Ç–∏–ª—å –æ–±—â–µ–Ω–∏—è: –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π, –ø–æ–∑–∏—Ç–∏–≤–Ω—ã–π, –Ω–æ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π.
–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫.

–ö–û–ù–¢–ï–ö–°–¢ –°–ê–ô–¢–ê: {site_context}
–í–û–ü–†–û–° –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø: {user_question}''',
                'variables': ["site_context", "user_question"],
            },
        ]
        
        created_count = 0
        updated_count = 0
        skipped_count = 0
        
        for prompt_data in prompts_data:
            try:
                # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ –ø—Ä–æ–º–ø—Ç
                existing = PromptTemplate.objects.filter(
                    category=prompt_data['category'],
                    name=prompt_data['name']
                ).first()
                
                if existing and not force:
                    self.stdout.write(f'  ‚è≠Ô∏è  –ü—Ä–æ–ø—É—â–µ–Ω (—É–∂–µ –µ—Å—Ç—å): {prompt_data["name"]}')
                    skipped_count += 1
                    continue
                
                if existing and force:
                    # –û–±–Ω–æ–≤–ª—è–µ–º
                    existing.description = prompt_data['description']
                    existing.template = prompt_data['template']
                    existing.variables = prompt_data['variables']
                    existing.save()
                    self.stdout.write(self.style.WARNING(f'  ‚ôªÔ∏è  –û–±–Ω–æ–≤–ª—ë–Ω: {prompt_data["name"]}'))
                    updated_count += 1
                else:
                    # –°–æ–∑–¥–∞—ë–º –Ω–æ–≤—ã–π
                    PromptTemplate.objects.create(
                        category=prompt_data['category'],
                        name=prompt_data['name'],
                        description=prompt_data['description'],
                        template=prompt_data['template'],
                        variables=prompt_data['variables'],
                        is_active=True,
                        created_by=admin
                    )
                    self.stdout.write(self.style.SUCCESS(f'  ‚úÖ –°–æ–∑–¥–∞–Ω: {prompt_data["name"]}'))
                    created_count += 1
                    
            except Exception as e:
                self.stdout.write(self.style.ERROR(f'  ‚ùå –û—à–∏–±–∫–∞ ({prompt_data["name"]}): {e}'))
        
        self.stdout.write('\n' + '='*80)
        self.stdout.write(self.style.SUCCESS(f'‚úÖ –ì–û–¢–û–í–û!'))
        self.stdout.write(f'  ‚ú® –°–æ–∑–¥–∞–Ω–æ: {created_count}')
        self.stdout.write(f'  ‚ôªÔ∏è  –û–±–Ω–æ–≤–ª–µ–Ω–æ: {updated_count}')
        self.stdout.write(f'  ‚è≠Ô∏è  –ü—Ä–æ–ø—É—â–µ–Ω–æ: {skipped_count}')
        self.stdout.write('='*80 + '\n')
        
        if created_count > 0 or updated_count > 0:
            self.stdout.write('üí° –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ:')
            self.stdout.write('  1. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø—Ä–æ–º–ø—Ç—ã: /asistent/admin-panel/prompts/')
            self.stdout.write('  2. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–º–ø—Ç—ã —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É')
            self.stdout.write('  3. –ü—Ä–∏–≤—è–∑–∞—Ç—å –ø—Ä–æ–º–ø—Ç—ã –∫ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è–º AI')
            self.stdout.write('')














