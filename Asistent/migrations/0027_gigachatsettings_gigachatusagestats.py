# Generated by Django 5.1 on 2025-10-28 18:18

import django.core.validators
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('Asistent', '0026_alter_aitask_task_type'),
    ]

    operations = [
        migrations.CreateModel(
            name='GigaChatSettings',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('check_balance_after_requests', models.IntegerField(default=1, help_text='–ß–∞—Å—Ç–æ—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–∞–ª–∞–Ω—Å–∞ —Ç–æ–∫–µ–Ω–æ–≤', validators=[django.core.validators.MinValueValidator(1)], verbose_name='–ü—Ä–æ–≤–µ—Ä—è—Ç—å –±–∞–ª–∞–Ω—Å –ø–æ—Å–ª–µ N –∑–∞–ø—Ä–æ—Å–æ–≤')),
                ('current_model', models.CharField(default='GigaChat', help_text='–ê–∫—Ç–∏–≤–Ω–∞—è –º–æ–¥–µ–ª—å GigaChat', max_length=50, verbose_name='–¢–µ–∫—É—â–∞—è –º–æ–¥–µ–ª—å')),
                ('auto_switch_enabled', models.BooleanField(default=True, help_text='–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –Ω–∞ –¥—Ä—É–≥—É—é –º–æ–¥–µ–ª—å –ø—Ä–∏ –∏—Å—á–µ—Ä–ø–∞–Ω–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤', verbose_name='–ê–≤—Ç–æ–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π')),
                ('models_priority', models.JSONField(default=list, help_text='–ü–æ—Ä—è–¥–æ–∫ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–æ–¥–µ–ª–µ–π', verbose_name='–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –º–æ–¥–µ–ª–µ–π')),
                ('request_counter', models.IntegerField(default=0, help_text='–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Å—á—ë—Ç—á–∏–∫ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –º–æ–º–µ–Ω—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–∞–ª–∞–Ω—Å–∞', verbose_name='–°—á—ë—Ç—á–∏–∫ –∑–∞–ø—Ä–æ—Å–æ–≤')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ')),
            ],
            options={
                'verbose_name': 'ü§ñ GigaChat: –ù–∞—Å—Ç—Ä–æ–π–∫–∏',
                'verbose_name_plural': 'ü§ñ GigaChat: –ù–∞—Å—Ç—Ä–æ–π–∫–∏',
            },
        ),
        migrations.CreateModel(
            name='GigaChatUsageStats',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('model_name', models.CharField(help_text='GigaChat, GigaChat-Max, GigaChat-Pro', max_length=50, unique=True, verbose_name='–ù–∞–∑–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏')),
                ('tokens_used', models.IntegerField(default=0, verbose_name='–¢–æ–∫–µ–Ω–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ')),
                ('tokens_remaining', models.IntegerField(blank=True, null=True, verbose_name='–¢–æ–∫–µ–Ω–æ–≤ –æ—Å—Ç–∞–ª–æ—Å—å')),
                ('total_requests', models.IntegerField(default=0, verbose_name='–í—Å–µ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤')),
                ('successful_requests', models.IntegerField(default=0, verbose_name='–£—Å–ø–µ—à–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤')),
                ('failed_requests', models.IntegerField(default=0, verbose_name='–ù–µ—É–¥–∞—á–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤')),
                ('last_check_at', models.DateTimeField(auto_now=True, verbose_name='–ü–æ—Å–ª–µ–¥–Ω—è—è –ø—Ä–æ–≤–µ—Ä–∫–∞')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è')),
            ],
            options={
                'verbose_name': 'ü§ñ GigaChat: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –º–æ–¥–µ–ª–∏',
                'verbose_name_plural': 'ü§ñ GigaChat: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –º–æ–¥–µ–ª–µ–π',
                'ordering': ['model_name'],
            },
        ),
    ]
