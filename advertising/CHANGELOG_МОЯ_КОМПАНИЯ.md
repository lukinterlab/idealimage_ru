# Changelog - –ö–æ–º–ø–∞–Ω–∏—è "–ú–û–Ø" –¥–ª—è IdealImage.ru

**–î–∞—Ç–∞:** 23 –æ–∫—Ç—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è:** 2.0

---

## üìã –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### ‚úÖ 1. –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ "–ë–µ–∑–ª–∏–º–∏—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ"
**–§–∞–π–ª:** `advertising/models.py`
- –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `unlimited_impressions` –≤ –º–æ–¥–µ–ª—å `AdBanner`
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: `True`
- Help text —Å –ø–æ–ª–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º –ª–æ–≥–∏–∫–∏ —Ä–∞–±–æ—Ç—ã

**–ú–∏–≥—Ä–∞—Ü–∏—è:** `0004_adbanner_unlimited_impressions.py`

### ‚úÖ 2. –û–±–Ω–æ–≤–ª–µ–Ω—ã —Ñ–æ—Ä–º—ã
**–§–∞–π–ª:** `advertising/forms.py`
- –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `unlimited_impressions` –≤ `AdBannerForm`
- –î–æ–±–∞–≤–ª–µ–Ω —Å—Ç–∏–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –≤–∏–¥–∂–µ—Ç Tailwind CSS
- –î–æ–±–∞–≤–ª–µ–Ω—ã help_text –ø–æ–¥—Å–∫–∞–∑–∫–∏

**–§–∞–π–ª:** `advertising/templates/advertising/banner_form.html`
- –î–æ–±–∞–≤–ª–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–ª—è –≤ —Ñ–æ—Ä–º–µ
- –î–æ–±–∞–≤–ª–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏

### ‚úÖ 3. –û–±–Ω–æ–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –±–∞–Ω–Ω–µ—Ä–æ–≤
**–§–∞–π–ª:** `advertising/templatetags/ad_tags.py`

**–ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞:**
```
IF banner.unlimited_impressions == True:
    ‚Üí –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –í–°–ï–ì–î–ê (–±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è)
ELSE:
    IF –µ—Å—Ç—å AdSchedule:
        ‚Üí –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∏ –ª–∏–º–∏—Ç—ã
    ELSE:
        ‚Üí –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –í–°–ï–ì–î–ê (–±–µ–∑–ª–∏–º–∏—Ç–Ω–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
```

### ‚úÖ 4. –°–æ–∑–¥–∞–Ω–∞ management –∫–æ–º–∞–Ω–¥–∞
**–§–∞–π–ª:** `advertising/management/commands/setup_my_campaign.py`

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
1. –£–¥–∞–ª—è–µ—Ç –í–°–ï —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ä–µ–∫–ª–∞–º–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ)
2. –°–æ–∑–¥–∞–µ—Ç —Ä–µ–∫–ª–∞–º–æ–¥–∞—Ç–µ–ª—è "–ú–û–Ø –ö–û–ú–ü–ê–ù–ò–Ø"
3. –°–æ–∑–¥–∞–µ—Ç –∫–∞–º–ø–∞–Ω–∏—é "–ú–û–Ø" —Å –±—é–¥–∂–µ—Ç–æ–º 1 –º–ª–Ω ‚ÇΩ –Ω–∞ –≥–æ–¥
4. –°–æ–∑–¥–∞–µ—Ç –ø–æ –æ–¥–Ω–æ–º—É HTML –±–∞–Ω–Ω–µ—Ä—É –¥–ª—è –∫–∞–∂–¥–æ–≥–æ AdPlace
5. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –±–µ–∑–ª–∏–º–∏—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö

**–ó–∞–ø—É—Å–∫:** `python manage.py setup_my_campaign`

### ‚úÖ 5. –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ –ø–æ–ª—É—á–µ–Ω–∏—è –ø—É–±–ª–∏—á–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
**–§–∞–π–ª:** `advertising/models.py`

–ú–µ—Ç–æ–¥ `AdPlace.get_public_page_url()`:
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç URL –ø—É–±–ª–∏—á–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≥–¥–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –±–∞–Ω–Ω–µ—Ä
- Mapping –¥–ª—è –≤—Å–µ—Ö 10 —Ä–µ–∫–ª–∞–º–Ω—ã—Ö –º–µ—Å—Ç

### ‚úÖ 6. –û–±–Ω–æ–≤–ª–µ–Ω —Å–ø–∏—Å–æ–∫ –±–∞–Ω–Ω–µ—Ä–æ–≤
**–§–∞–π–ª:** `advertising/templates/advertising/banners_manage.html`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –ù–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–Ω–µ—Ä–∞ ‚Äî **—Å—Å—ã–ª–∫–∞ –Ω–∞ –ø—É–±–ª–∏—á–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É** (—Å –∏–∫–æ–Ω–∫–æ–π üîó)
- –ü—Ä–µ–≤—å—é –±–∞–Ω–Ω–µ—Ä–∞ ‚Äî **–∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ–µ** –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
- Hover —ç—Ñ—Ñ–µ–∫—Ç –Ω–∞ –ø—Ä–µ–≤—å—é —Å –∏–∫–æ–Ω–∫–æ–π ‚úèÔ∏è

### ‚úÖ 7. –°–æ–∑–¥–∞–Ω —Ä–µ–¥–∞–∫—Ç–æ—Ä –ø—Ä–µ–≤—å—é
**–§–∞–π–ª:** `advertising/templates/advertising/banners_manage.html`

**–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏:**
- Canvas –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ (—Ä–∞–∑–º–µ—Ä, —Ü–≤–µ—Ç, –ø–æ–∑–∏—Ü–∏—è)
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ canvas
- –û—á–∏—Å—Ç–∫–∞ canvas
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

**JavaScript —Ñ—É–Ω–∫—Ü–∏–∏:**
- `openBannerEditor()` ‚Äî –æ—Ç–∫—Ä—ã—Ç—å —Ä–µ–¥–∞–∫—Ç–æ—Ä
- `closeBannerEditor()` ‚Äî –∑–∞–∫—Ä—ã—Ç—å
- `initCanvas()` ‚Äî –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è canvas
- `addText()` ‚Äî –¥–æ–±–∞–≤–∏—Ç—å —Ç–µ–∫—Å—Ç
- `resizeCanvas()` ‚Äî –∏–∑–º–µ–Ω–∏—Ç—å —Ä–∞–∑–º–µ—Ä
- `clearCanvas()` ‚Äî –æ—á–∏—Å—Ç–∏—Ç—å
- `saveBannerPreview()` ‚Äî —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä

### ‚úÖ 8. –î–æ–±–∞–≤–ª–µ–Ω view –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–µ–≤—å—é
**–§–∞–π–ª:** `advertising/views.py`

–§—É–Ω–∫—Ü–∏—è: `banner_update_preview(request, banner_id)`
- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç base64 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–∑ canvas
- –î–µ–∫–æ–¥–∏—Ä—É–µ—Ç –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∫–∞–∫ —Ñ–∞–π–ª
- –û–±–Ω–æ–≤–ª—è–µ—Ç `banner.image`
- –ú–µ–Ω—è–µ—Ç `banner.banner_type` –Ω–∞ `'image'`
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON —Ä–µ–∑—É–ª—å—Ç–∞—Ç

**URL:** `/advertising/banners/<id>/update-preview/`

### ‚úÖ 9. –ë–∞–Ω–Ω–µ—Ä—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ –±–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω
**–§–∞–π–ª:** `templates/base_tailwind.html`

**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
- –ë–∞–Ω–Ω–µ—Ä –≤ —à–∞–ø–∫–µ (`header_banner`) ‚Äî –ø–µ—Ä–µ–¥ –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π
- –ë–∞–Ω–Ω–µ—Ä –≤ —Ñ—É—Ç–µ—Ä–µ (`footer_banner`) ‚Äî –≤ —Å–∞–º–æ–º –≤–µ—Ä—Ö—É footer

---

## üéØ –°–æ–∑–¥–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

### –†–µ–∫–ª–∞–º–æ–¥–∞—Ç–µ–ª—å
- **–ù–∞–∑–≤–∞–Ω–∏–µ:** –ú–û–Ø –ö–û–ú–ü–ê–ù–ò–Ø
- **Email:** info@idealimage.ru
- **–¢–µ–ª–µ—Ñ–æ–Ω:** +7 (999) 000-00-00
- **–°—Ç–∞—Ç—É—Å:** –ê–∫—Ç–∏–≤–µ–Ω

### –ö–∞–º–ø–∞–Ω–∏—è
- **–ù–∞–∑–≤–∞–Ω–∏–µ:** –ú–û–Ø
- **–ë—é–¥–∂–µ—Ç:** 1 000 000.00 ‚ÇΩ
- **CPC:** 0.00 ‚ÇΩ
- **CPM:** 0.00 ‚ÇΩ
- **–ü–µ—Ä–∏–æ–¥:** 1 –≥–æ–¥ (—Å —Ç–µ–∫—É—â–µ–π –¥–∞—Ç—ã)
- **–°—Ç–∞—Ç—É—Å:** –ê–∫—Ç–∏–≤–Ω–∞

### –ë–∞–Ω–Ω–µ—Ä—ã (10 —à—Ç—É–∫)

| ‚Ññ | –ù–∞–∑–≤–∞–Ω–∏–µ | –ö–æ–¥ –º–µ—Å—Ç–∞ | –¢–∏–ø | –ë–µ–∑–ª–∏–º–∏—Ç–Ω–æ–µ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|---|----------|-----------|-----|-------------|-----------|
| 1 | –ë–∞–Ω–Ω–µ—Ä –≤ —à–∞–ø–∫–µ | header_banner | HTML | ‚úÖ –î–∞ | 10 |
| 2 | –ë–∞–Ω–Ω–µ—Ä –≤ —Ñ—É—Ç–µ—Ä–µ | footer_banner | HTML | ‚úÖ –î–∞ | 10 |
| 3 | –°–∞–π–¥–±–∞—Ä –≤–≤–µ—Ä—Ö—É | sidebar_top | HTML | ‚úÖ –î–∞ | 10 |
| 4 | –í —Å–µ—Ä–µ–¥–∏–Ω–µ —Å—Ç–∞—Ç—å–∏ | in_post_middle | HTML | ‚úÖ –î–∞ | 10 |
| 5 | –í—Å–ø–ª—ã–≤–∞—é—â–µ–µ –æ–∫–Ω–æ | popup_modal | HTML | ‚úÖ –î–∞ | 10 |
| 6 | –ë–µ–≥—É—â–∞—è —Å—Ç—Ä–æ–∫–∞ | ticker_line | HTML | ‚úÖ –î–∞ | 10 |
| 7 | –ü–µ—Ä–µ–¥ —Ç–µ–∫—Å—Ç–æ–º —Å—Ç–∞—Ç—å–∏ | before_article_content | HTML | ‚úÖ –î–∞ | 10 |
| 8 | –ü–æ—Å–ª–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ | after_comments | HTML | ‚úÖ –î–∞ | 10 |
| 9 | –°–∞–π–¥–±–∞—Ä –ø–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∞ | sidebar_after_author | HTML | ‚úÖ –î–∞ | 10 |
| 10 | –°–∞–π–¥–±–∞—Ä –ø–æ—Å–ª–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π | sidebar_after_popular | HTML | ‚úÖ –î–∞ | 10 |

**–û–±—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- –ê–∫—Ç–∏–≤–µ–Ω: ‚úÖ –î–∞
- –í–µ—Å: 100
- URL: https://idealimage.ru

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ß—Ç–æ –Ω—É–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:

1. **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±–∞–Ω–Ω–µ—Ä–æ–≤:**
   - [ ] –û—Ç–∫—Ä—ã—Ç—å –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É `/` ‚Äî –ø—Ä–æ–≤–µ—Ä–∏—Ç—å header –∏ footer
   - [ ] –û—Ç–∫—Ä—ã—Ç—å –±–ª–æ–≥ `/blog/` ‚Äî –ø—Ä–æ–≤–µ—Ä–∏—Ç—å sidebar
   - [ ] –û—Ç–∫—Ä—ã—Ç—å –ª—é–±—É—é —Å—Ç–∞—Ç—å—é ‚Äî –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ 6 –±–∞–Ω–Ω–µ—Ä–æ–≤ –≤ —Å—Ç–∞—Ç—å–µ

2. **–†–µ–¥–∞–∫—Ç–æ—Ä –ø—Ä–µ–≤—å—é:**
   - [ ] –û—Ç–∫—Ä—ã—Ç—å `/advertising/banners/`
   - [ ] –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ –ø—Ä–µ–≤—å—é –±–∞–Ω–Ω–µ—Ä–∞
   - [ ] –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
   - [ ] –î–æ–±–∞–≤–∏—Ç—å —Ç–µ–∫—Å—Ç
   - [ ] –ò–∑–º–µ–Ω–∏—Ç—å —Ä–∞–∑–º–µ—Ä canvas
   - [ ] –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–µ–≤—å—é
   - [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ

3. **–°—Å—ã–ª–∫–∏ –Ω–∞ –ø—É–±–ª–∏—á–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:**
   - [ ] –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ –Ω–∞–∑–≤–∞–Ω–∏–µ –ª—é–±–æ–≥–æ –±–∞–Ω–Ω–µ—Ä–∞
   - [ ] –î–æ–ª–∂–Ω–∞ –æ—Ç–∫—Ä—ã—Ç—å—Å—è –ø—É–±–ª–∏—á–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ
   - [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –±–∞–Ω–Ω–µ—Ä –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ

4. **–ë–µ–∑–ª–∏–º–∏—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ:**
   - [ ] –û—Ç–∫—Ä—ã—Ç—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª—é–±–æ–≥–æ –±–∞–Ω–Ω–µ—Ä–∞
   - [ ] –°–Ω—è—Ç—å –≥–∞–ª–æ—á–∫—É "–ë–µ–∑–ª–∏–º–∏—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ"
   - [ ] –°–æ–∑–¥–∞—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ (AdSchedule) –≤ –∞–¥–º–∏–Ω–∫–µ
   - [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –±–∞–Ω–Ω–µ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
   - [ ] –£–¥–∞–ª–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
   - [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –±–∞–Ω–Ω–µ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –±–µ–∑–ª–∏–º–∏—Ç–Ω–æ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

---

## üö® –í–ê–ñ–ù–û

**–ü–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä:**
1. ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ: `python manage.py check` ‚Äî –Ω–µ—Ç –æ—à–∏–±–æ–∫
2. ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã: `0004_adbanner_unlimited_impressions.py`
3. üìã –ù—É–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª—ã:
   - `advertising/models.py`
   - `advertising/forms.py`
   - `advertising/views.py`
   - `advertising/urls.py`
   - `advertising/templatetags/ad_tags.py`
   - `advertising/templates/advertising/banner_form.html`
   - `advertising/templates/advertising/banners_manage.html`
   - `advertising/management/commands/setup_my_campaign.py`
   - `advertising/migrations/0004_adbanner_unlimited_impressions.py`
   - `templates/base_tailwind.html`

4. üîß –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å:
   ```bash
   python manage.py migrate advertising
   python manage.py setup_my_campaign
   ```

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `logs/django.log`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏: `python manage.py showmigrations advertising`
3. –ü–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ –¥–∞–Ω–Ω—ã–µ: `python manage.py setup_my_campaign`

