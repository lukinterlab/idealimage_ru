# ‚úÖ –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–Ø - –§–æ—Ä–º–∞ –Ω–∞ —Å–∞–π—Ç–µ = –ê–¥–º–∏–Ω–∫–∞ Django

**–î–∞—Ç–∞:** 23 –æ–∫—Ç—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è:** 3.6 –§–ò–ù–ê–õ  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û

---

## üêõ –ü—Ä–æ–±–ª–µ–º–∞ (–±—ã–ª–∞):

**–í –∞–¥–º–∏–Ω–∫–µ Django:**
- –ö–∞—Ä—Ç–æ—á–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ ‚úÖ
- –î–ª—è header/footer ‚Äî 4 –∫–∞—Ä—Ç–æ—á–∫–∏
- –î–ª—è —Å—Ç–∞—Ç–µ–π ‚Äî 3 –∫–∞—Ä—Ç–æ—á–∫–∏

**–ù–∞ —Å–∞–π—Ç–µ (/advertising/banners/<id>/edit/):**
- –ö–∞—Ä—Ç–æ—á–∫–∏ –ù–ï –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å ‚ùå
- JavaScript –ø—Ä–æ–≤–µ—Ä—è–ª —Ç–µ–∫—Å—Ç –Ω–∞–∑–≤–∞–Ω–∏—è –≤–º–µ—Å—Ç–æ –∫–æ–¥–∞

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ:

### 1. –í `advertising/views.py`:

**–î–æ–±–∞–≤–ª–µ–Ω–æ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç:**
```python
context = {
    'form': form,
    'banner': banner,
    'place_code': banner.place.code,  # ‚Üê –î–û–ë–ê–í–õ–ï–ù–û!
}
```

**–°—Ç—Ä–æ–∫–∏:**
- `banner_create()` ‚Äî —Å—Ç—Ä–æ–∫–∞ 280
- `banner_edit()` ‚Äî —Å—Ç—Ä–æ–∫–∞ 309

---

### 2. –í `advertising/templates/advertising/banner_form.html`:

**JavaScript –æ–±–Ω–æ–≤–ª–µ–Ω:**
```javascript
// –ü–æ–ª—É—á–∞–µ–º place_code –∏–∑ —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
let currentPlaceCode = '{{ place_code|default:"" }}';

// –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ –ö–û–î–£ –º–µ—Å—Ç–∞ (–∫–∞–∫ –≤ –∞–¥–º–∏–Ω–∫–µ)
const cardsPlaces = [
    'header_banner', 'footer_banner',
    'in_post_middle', 'in_post_middle_1', 'in_post_middle_2',
    'before_article_content', 'after_comments'
];
const hasCards = cardsPlaces.includes(currentPlaceCode);

// 4 –∫–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–ª—å–∫–æ –¥–ª—è header –∏ footer
const show4Cards = ['header_banner', 'footer_banner'].includes(currentPlaceCode);
```

**–°—Ç—Ä–æ–∫–∏:** 346-406

---

## üéØ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–µ–ø–µ—Ä—å

### –î–ª—è –±–∞–Ω–Ω–µ—Ä–∞ "–ë–∞–Ω–Ω–µ—Ä –≤ —à–∞–ø–∫–µ" (place.code = 'header_banner'):

**–ê–¥–º–∏–Ω–∫–∞ Django:**
```python
if obj.place.code in ['header_banner', 'footer_banner']:
    # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–∞—Ä—Ç–æ—á–∫—É 4
```

**–§–æ—Ä–º–∞ –Ω–∞ —Å–∞–π—Ç–µ:**
```javascript
currentPlaceCode = 'header_banner'
show4Cards = ['header_banner', 'footer_banner'].includes('header_banner')
// show4Cards = true ‚úÖ
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í–∏–¥–Ω—ã –≤—Å–µ 4 –∫–∞—Ä—Ç–æ—á–∫–∏ ‚úÖ

---

### –î–ª—è –±–∞–Ω–Ω–µ—Ä–∞ "–í —Å–µ—Ä–µ–¥–∏–Ω–µ —Å—Ç–∞—Ç—å–∏ 1" (place.code = 'in_post_middle_1'):

**–ê–¥–º–∏–Ω–∫–∞ Django:**
```python
if obj.place.code in ['header_banner', 'footer_banner']:
    # –ù–ï–¢, –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–∞—Ä—Ç–æ—á–∫—É 4
```

**–§–æ—Ä–º–∞ –Ω–∞ —Å–∞–π—Ç–µ:**
```javascript
currentPlaceCode = 'in_post_middle_1'
show4Cards = ['header_banner', 'footer_banner'].includes('in_post_middle_1')
// show4Cards = false ‚úÖ
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í–∏–¥–Ω—ã —Ç–æ–ª—å–∫–æ 3 –∫–∞—Ä—Ç–æ—á–∫–∏ ‚úÖ

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏

### –ë–´–õ–û (–ù–ï –†–ê–ë–û–¢–ê–õ–û):

```javascript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ –¢–ï–ö–°–¢–£ –Ω–∞–∑–≤–∞–Ω–∏—è
const placeText = "–ë–∞–Ω–Ω–µ—Ä –≤ —à–∞–ø–∫–µ"
placeText.includes('header')  // false ‚ùå
placeText.includes('—à–∞–ø–∫–µ')   // true ‚úÖ

// –ù–µ–Ω–∞–¥–µ–∂–Ω–æ! –ó–∞–≤–∏—Å–∏—Ç –æ—Ç —è–∑—ã–∫–∞ –Ω–∞–∑–≤–∞–Ω–∏—è
```

### –°–¢–ê–õ–û (–†–ê–ë–û–¢–ê–ï–¢):

```javascript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ –ö–û–î–£ –º–µ—Å—Ç–∞
const placeCode = 'header_banner'
['header_banner', 'footer_banner'].includes('header_banner')  // true ‚úÖ

// –ù–∞–¥–µ–∂–Ω–æ! –ö–æ–¥ –≤—Å–µ–≥–¥–∞ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç –±–∞–Ω–Ω–µ—Ä–∞ header_banner:

**URL:** `/advertising/banners/78/edit/` (ID –º–æ–∂–µ—Ç –±—ã—Ç—å –¥—Ä—É–≥–æ–π)

**–û–∂–∏–¥–∞–µ—Ç—Å—è:**
- –°–µ–∫—Ü–∏–∏ –∫–∞—Ä—Ç–æ—á–µ–∫: –í–ò–î–ù–´ ‚úÖ
- –ö–∞—Ä—Ç–æ—á–∫–∞ 1: –í–ò–î–ù–ê ‚úÖ
- –ö–∞—Ä—Ç–æ—á–∫–∞ 2: –í–ò–î–ù–ê ‚úÖ
- –ö–∞—Ä—Ç–æ—á–∫–∞ 3: –í–ò–î–ù–ê ‚úÖ
- –ö–∞—Ä—Ç–æ—á–∫–∞ 4: –í–ò–î–ù–ê ‚úÖ

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```javascript
currentPlaceCode = 'header_banner'
hasCards = true
show4Cards = true
```

---

### –¢–µ—Å—Ç –±–∞–Ω–Ω–µ—Ä–∞ in_post_middle_1:

**URL:** `/advertising/banners/83/edit/`

**–û–∂–∏–¥–∞–µ—Ç—Å—è:**
- –°–µ–∫—Ü–∏–∏ –∫–∞—Ä—Ç–æ—á–µ–∫: –í–ò–î–ù–´ ‚úÖ
- –ö–∞—Ä—Ç–æ—á–∫–∞ 1: –í–ò–î–ù–ê ‚úÖ
- –ö–∞—Ä—Ç–æ—á–∫–∞ 2: –í–ò–î–ù–ê ‚úÖ
- –ö–∞—Ä—Ç–æ—á–∫–∞ 3: –í–ò–î–ù–ê ‚úÖ
- –ö–∞—Ä—Ç–æ—á–∫–∞ 4: –°–ö–†–´–¢–ê ‚ùå

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```javascript
currentPlaceCode = 'in_post_middle_1'
hasCards = true
show4Cards = false
```

---

### –¢–µ—Å—Ç –æ–±—ã—á–Ω–æ–≥–æ –±–∞–Ω–Ω–µ—Ä–∞ sidebar_top:

**URL:** `/advertising/banners/80/edit/`

**–û–∂–∏–¥–∞–µ—Ç—Å—è:**
- –°–µ–∫—Ü–∏–∏ –∫–∞—Ä—Ç–æ—á–µ–∫: –°–ö–†–´–¢–´ ‚ùå
- –¢–æ–ª—å–∫–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–æ–ª—è (image, video, html)

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```javascript
currentPlaceCode = 'sidebar_top'
hasCards = false
show4Cards = false
```

---

## üì¶ –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (2 —à—Ç.)

1. ‚úÖ `advertising/views.py`
   - –î–æ–±–∞–≤–ª–µ–Ω `place_code` –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç (—Å—Ç—Ä–æ–∫–∏ 280, 309)

2. ‚úÖ `advertising/templates/advertising/banner_form.html`
   - JavaScript –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `place_code` –≤–º–µ—Å—Ç–æ —Ç–µ–∫—Å—Ç–∞ (—Å—Ç—Ä–æ–∫–∏ 358, 376-392)

---

## üöÄ –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä

### –§–∞–π–ª—ã –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ (2 —à—Ç.):

```
advertising/views.py
advertising/templates/advertising/banner_form.html
```

### –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
# –ü—Ä–æ—Å—Ç–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
touch restart.txt
```

**–ú–∏–≥—Ä–∞—Ü–∏–π –ù–ï –Ω—É–∂–Ω–æ!**

---

## ‚úÖ –†–ï–ó–£–õ–¨–¢–ê–¢

**–¢–µ–ø–µ—Ä—å —Ñ–æ—Ä–º–∞ –Ω–∞ —Å–∞–π—Ç–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ò–î–ï–ù–¢–ò–ß–ù–û –∞–¥–º–∏–Ω–∫–µ Django:**

| –ë–∞–Ω–Ω–µ—Ä | place.code | –ê–¥–º–∏–Ω–∫–∞ | –§–æ—Ä–º–∞ –Ω–∞ —Å–∞–π—Ç–µ |
|--------|-----------|---------|----------------|
| –ë–∞–Ω–Ω–µ—Ä –≤ —à–∞–ø–∫–µ | header_banner | 4 –∫–∞—Ä—Ç–æ—á–∫–∏ ‚úÖ | 4 –∫–∞—Ä—Ç–æ—á–∫–∏ ‚úÖ |
| –ë–∞–Ω–Ω–µ—Ä –≤ —Ñ—É—Ç–µ—Ä–µ | footer_banner | 4 –∫–∞—Ä—Ç–æ—á–∫–∏ ‚úÖ | 4 –∫–∞—Ä—Ç–æ—á–∫–∏ ‚úÖ |
| –ü–µ—Ä–µ–¥ —Ç–µ–∫—Å—Ç–æ–º | before_article_content | 3 –∫–∞—Ä—Ç–æ—á–∫–∏ ‚úÖ | 3 –∫–∞—Ä—Ç–æ—á–∫–∏ ‚úÖ |
| –í —Å–µ—Ä–µ–¥–∏–Ω–µ 1 | in_post_middle_1 | 3 –∫–∞—Ä—Ç–æ—á–∫–∏ ‚úÖ | 3 –∫–∞—Ä—Ç–æ—á–∫–∏ ‚úÖ |
| –í —Å–µ—Ä–µ–¥–∏–Ω–µ 2 | in_post_middle_2 | 3 –∫–∞—Ä—Ç–æ—á–∫–∏ ‚úÖ | 3 –∫–∞—Ä—Ç–æ—á–∫–∏ ‚úÖ |
| –ü–æ—Å–ª–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ | after_comments | 3 –∫–∞—Ä—Ç–æ—á–∫–∏ ‚úÖ | 3 –∫–∞—Ä—Ç–æ—á–∫–∏ ‚úÖ |
| –°–∞–π–¥–±–∞—Ä | sidebar_top | –°–∫—Ä—ã—Ç—ã ‚úÖ | –°–∫—Ä—ã—Ç—ã ‚úÖ |

**–ü–û–õ–ù–ê–Ø –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–Ø!** ‚úÖ

---

## üéâ –ì–û–¢–û–í–û!

–§–æ—Ä–º–∞ –Ω–∞ —Å–∞–π—Ç–µ —Ç–µ–ø–µ—Ä—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ –∂–µ —Å–µ–∫—Ü–∏–∏ —á—Ç–æ –∏ –∞–¥–º–∏–Ω–∫–∞!

**–ü—Ä–∏–Ω—Ü–∏–ø:**
- –°–µ—Ä–≤–µ—Ä–Ω–∞—è –ª–æ–≥–∏–∫–∞ (Python) –ø–µ—Ä–µ–¥–∞–µ—Ç `place_code`
- –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è –ª–æ–≥–∏–∫–∞ (JavaScript) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `place_code`
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–∞ –∞–¥–º–∏–Ω–∫–µ Django

**–î–∞–Ω–Ω—ã–µ –æ–¥–∏–Ω–∞–∫–æ–≤—ã, —Ñ–æ—Ä–º—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã!** ‚úÖ

---

*–î–∞—Ç–∞: 23.10.2025*  
*–í–µ—Ä—Å–∏—è: 3.6 –§–ò–ù–ê–õ - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è*

