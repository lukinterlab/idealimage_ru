{% extends 'base_tailwind.html' %}
{% load static %}

{% block title %}–†–µ–∫–ª–∞–º–Ω—ã–µ –∫–∞–º–ø–∞–Ω–∏–∏ - IdealImage.ru{% endblock %}

{% block content %}
<div class="min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-gray-900 py-8">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
        <div class="mb-8">
            <div class="flex items-center justify-between flex-wrap gap-4">
                <div>
                    <h1 class="text-5xl font-black text-white mb-2">
                        üìã –†–µ–∫–ª–∞–º–Ω—ã–µ –∫–∞–º–ø–∞–Ω–∏–∏
                    </h1>
                    <p class="text-xl text-gray-300">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–∫–ª–∞–º–Ω—ã–º–∏ –∫–∞–º–ø–∞–Ω–∏—è–º–∏</p>
                </div>
                <div class="flex gap-3">
                    <a href="{% url 'advertising:campaign_create' %}" 
                       class="px-4 py-2 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-lg transition-colors flex items-center gap-2">
                        ‚ûï –°–æ–∑–¥–∞—Ç—å –∫–∞–º–ø–∞–Ω–∏—é
                    </a>
                    <a href="{% url 'advertising:advertisers_list' %}" 
                       class="px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white font-semibold rounded-lg transition-colors flex items-center gap-2">
                        üë• –†–µ–∫–ª–∞–º–æ–¥–∞—Ç–µ–ª–∏
                    </a>
                    <a href="{% url 'advertising:dashboard' %}" 
                       class="px-4 py-2 bg-white/10 hover:bg-white/20 backdrop-blur-md text-white font-semibold rounded-lg transition-colors border border-white/20">
                        ‚Üê –ù–∞–∑–∞–¥
                    </a>
                </div>
            </div>
        </div>
        
        <!-- –¢–∞–±–ª–∏—Ü–∞ –∫–∞–º–ø–∞–Ω–∏–π -->
        <div class="bg-white/10 backdrop-blur-md rounded-2xl border border-white/20 overflow-hidden">
            {% if campaigns %}
            <div class="overflow-x-auto">
                <table class="w-full">
                    <thead class="bg-white/5 border-b border-white/20">
                        <tr>
                            <th class="px-6 py-4 text-left text-white font-semibold">–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                            <th class="px-6 py-4 text-left text-white font-semibold">–†–µ–∫–ª–∞–º–æ–¥–∞—Ç–µ–ª—å</th>
                            <th class="px-6 py-4 text-center text-white font-semibold">–ë—é–¥–∂–µ—Ç</th>
                            <th class="px-6 py-4 text-center text-white font-semibold">–ü–æ—Ç—Ä–∞—á–µ–Ω–æ</th>
                            <th class="px-6 py-4 text-center text-white font-semibold">–ü–µ—Ä–∏–æ–¥</th>
                            <th class="px-6 py-4 text-center text-white font-semibold">–°—Ç–∞—Ç—É—Å</th>
                            <th class="px-6 py-4 text-right text-white font-semibold">–î–µ–π—Å—Ç–≤–∏—è</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-white/10">
                        {% for campaign in campaigns %}
                        <tr class="hover:bg-white/5">
                            <td class="px-6 py-4 text-white font-semibold">{{ campaign.name }}</td>
                            <td class="px-6 py-4 text-gray-300">{{ campaign.advertiser.name }}</td>
                            <td class="px-6 py-4 text-center text-white">{{ campaign.budget|floatformat:0 }}‚ÇΩ</td>
                            <td class="px-6 py-4 text-center">
                                <div>
                                    <span class="text-yellow-300 font-bold">{{ campaign.spent_amount|floatformat:0 }}‚ÇΩ</span>
                                    <div class="text-xs text-gray-400">
                                        {{ campaign.get_budget_usage_percent|floatformat:1 }}%
                                    </div>
                                </div>
                            </td>
                            <td class="px-6 py-4 text-center text-gray-300 text-sm">
                                {{ campaign.start_date|date:"d.m.Y" }} - {{ campaign.end_date|date:"d.m.Y" }}
                            </td>
                            <td class="px-6 py-4 text-center">
                                {% if campaign.is_active_now %}
                                <span class="px-3 py-1 bg-green-500/30 text-green-200 rounded-full text-xs font-semibold">–ê–∫—Ç–∏–≤–Ω–∞</span>
                                {% else %}
                                <span class="px-3 py-1 bg-red-500/30 text-red-200 rounded-full text-xs font-semibold">–ù–µ–∞–∫—Ç–∏–≤–Ω–∞</span>
                                {% endif %}
                            </td>
                            <td class="px-6 py-4 text-right">
                                <div class="flex gap-2 justify-end">
                                    <a href="{% url 'advertising:campaign_detail' campaign.id %}" 
                                       class="px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm transition-colors">
                                        üìä –ü–æ–¥—Ä–æ–±–Ω–µ–µ
                                    </a>
                                    <a href="{% url 'advertising:campaign_edit' campaign.id %}" 
                                       class="px-3 py-1 bg-purple-600 hover:bg-purple-700 text-white rounded-lg text-sm transition-colors">
                                        ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
                                    </a>
                                </div>
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
            {% else %}
            <div class="p-12 text-center">
                <p class="text-gray-400 text-lg mb-4">–ö–∞–º–ø–∞–Ω–∏–π –ø–æ–∫–∞ –Ω–µ—Ç</p>
                <a href="{% url 'advertising:campaign_create' %}" 
                   class="inline-block px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-colors">
                    –°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–≤—É—é –∫–∞–º–ø–∞–Ω–∏—é
                </a>
            </div>
            {% endif %}
        </div>
        
    </div>
</div>
{% endblock %}

