{% extends 'base_tailwind.html' %}
{% load static %}

{% block content %}
<div class="min-h-[80vh] flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8">
    <div class="max-w-md w-full space-y-8">
        <!-- Header -->
        <div class="text-center">
            <div class="mx-auto h-12 w-12 gradient-primary rounded-full flex items-center justify-center mb-4">
                <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"></path>
                </svg>
            </div>
            <h2 class="text-3xl font-heading font-bold text-gray-900 dark:text-white mb-2">–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç</h2>
            <p class="text-gray-600 dark:text-gray-400">–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ IdealImage.ru —Å–µ–≥–æ–¥–Ω—è</p>
        </div>

        <!-- Registration Form -->
        <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 fade-in">
            <form method="post" class="space-y-6">
                {% csrf_token %}
                
                {% if form.non_field_errors %}
                <div class="bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-800 dark:text-red-400 px-4 py-3 rounded-lg">
                    {{ form.non_field_errors }}
                </div>
                {% endif %}
                
                <!-- Username Field -->
                <div>
                    <label for="{{ form.username.id_for_label }}" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                        –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è *
                    </label>
                    <input type="text" 
                           name="{{ form.username.name }}" 
                           id="{{ form.username.id_for_label }}"
                           class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all {% if form.username.errors %}border-red-500{% endif %}"
                           placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"
                           required>
                    {% if form.username.errors %}
                    <p class="mt-1 text-sm text-red-600 dark:text-red-400">{{ form.username.errors.0 }}</p>
                    {% else %}
                    <p class="mt-1 text-xs text-gray-500 dark:text-gray-400">–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –±—É–∫–≤—ã, —Ü–∏—Ñ—Ä—ã –∏ —Å–∏–º–≤–æ–ª—ã @/./+/-/_</p>
                    {% endif %}
                </div>

                <!-- Email Field -->
                <div>
                    <label for="{{ form.email.id_for_label }}" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                        Email *
                    </label>
                    <input type="email" 
                           name="{{ form.email.name }}" 
                           id="{{ form.email.id_for_label }}"
                           class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all {% if form.email.errors %}border-red-500{% endif %}"
                           placeholder="example@email.com"
                           required>
                    {% if form.email.errors %}
                    <p class="mt-1 text-sm text-red-600 dark:text-red-400">{{ form.email.errors.0 }}</p>
                    {% endif %}
                </div>

                <!-- Password Field -->
                <div>
                    <label for="{{ form.password1.id_for_label }}" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                        –ü–∞—Ä–æ–ª—å *
                    </label>
                    <input type="password" 
                           name="{{ form.password1.name }}" 
                           id="{{ form.password1.id_for_label }}"
                           class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all {% if form.password1.errors %}border-red-500{% endif %}"
                           placeholder="–ú–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤"
                           required>
                    {% if form.password1.errors %}
                    <p class="mt-1 text-sm text-red-600 dark:text-red-400">{{ form.password1.errors.0 }}</p>
                    {% else %}
                    <p class="mt-1 text-xs text-gray-500 dark:text-gray-400">–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤ –∏ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é —á–∏—Å–ª–æ–≤—ã–º</p>
                    {% endif %}
                </div>

                <!-- Password Confirmation Field -->
                <div>
                    <label for="{{ form.password2.id_for_label }}" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                        –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è *
                    </label>
                    <input type="password" 
                           name="{{ form.password2.name }}" 
                           id="{{ form.password2.id_for_label }}"
                           class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all {% if form.password2.errors %}border-red-500{% endif %}"
                           placeholder="–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å"
                           required>
                    {% if form.password2.errors %}
                    <p class="mt-1 text-sm text-red-600 dark:text-red-400">{{ form.password2.errors.0 }}</p>
                    {% endif %}
                </div>

                <!-- First Name Field -->
                <div>
                    <label for="{{ form.first_name.id_for_label }}" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                        –ò–º—è
                    </label>
                    <input type="text" 
                           name="{{ form.first_name.name }}" 
                           id="{{ form.first_name.id_for_label }}"
                           class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all"
                           placeholder="–í–∞—à–µ –∏–º—è">
                    {% if form.first_name.errors %}
                    <p class="mt-1 text-sm text-red-600 dark:text-red-400">{{ form.first_name.errors.0 }}</p>
                    {% endif %}
                </div>

                <!-- Last Name Field -->
                <div>
                    <label for="{{ form.last_name.id_for_label }}" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                        –§–∞–º–∏–ª–∏—è
                    </label>
                    <input type="text" 
                           name="{{ form.last_name.name }}" 
                           id="{{ form.last_name.id_for_label }}"
                           class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all"
                           placeholder="–í–∞—à–∞ —Ñ–∞–º–∏–ª–∏—è">
                    {% if form.last_name.errors %}
                    <p class="mt-1 text-sm text-red-600 dark:text-red-400">{{ form.last_name.errors.0 }}</p>
                    {% endif %}
                </div>

                <!-- Terms & Conditions - –°–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –¥–∞–Ω–Ω—ã—Ö -->
                <div class="border border-gray-300 dark:border-gray-600 rounded-lg p-4 bg-gray-50 dark:bg-gray-700/50">
                    <div class="flex items-start">
                        <input type="checkbox" 
                               id="{{ form.agree_to_terms.id_for_label }}" 
                               name="{{ form.agree_to_terms.name }}"
                               class="h-4 w-4 text-primary focus:ring-primary border-gray-300 dark:border-gray-600 rounded mt-1"
                               onchange="document.getElementById('register_btn').disabled = !this.checked"
                               required>
                        <label for="{{ form.agree_to_terms.id_for_label }}" class="ml-2 block text-sm text-gray-700 dark:text-gray-300">
                            –Ø —Å–æ–≥–ª–∞—Å–µ–Ω —Å <a href="/privacy-policy/" target="_blank" class="text-primary hover:text-secondary font-medium underline">—É—Å–ª–æ–≤–∏—è–º–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö</a> –∏ <a href="/terms/" target="_blank" class="text-primary hover:text-secondary font-medium underline">–ø–æ–ª–∏—Ç–∏–∫–æ–π –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a> *
                        </label>
                    </div>
                    {% if form.agree_to_terms.errors %}
                    <p class="mt-2 text-sm text-red-600 dark:text-red-400">{{ form.agree_to_terms.errors.0 }}</p>
                    {% endif %}
                    <p class="mt-2 text-xs text-gray-500 dark:text-gray-400">
                        –ù–∞–∂–∏–º–∞—è –∫–Ω–æ–ø–∫—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, –≤—ã –¥–∞–µ—Ç–µ —Å–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É —Å–≤–æ–∏—Ö –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ–º.
                    </p>
                </div>

                <!-- Submit Button -->
                <button type="submit" 
                        id="register_btn"
                        disabled
                        class="w-full gradient-primary text-white py-3 px-4 rounded-lg font-semibold hover:opacity-90 transition-all shadow-lg transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none">
                    –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
                </button>

                <!-- Login Link -->
                <div class="text-center pt-4 border-t border-gray-200 dark:border-gray-700">
                    <p class="text-sm text-gray-600 dark:text-gray-400">
                        –£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç?
                        <a href="{% url 'Visitor:user-login' %}" class="text-primary hover:text-secondary font-semibold transition-colors">
                            –í–æ–π—Ç–∏
                        </a>
                    </p>
                </div>
            </form>
        </div>

        <!-- Benefits -->
        <div class="grid grid-cols-3 gap-4 text-center">
            <div class="bg-white dark:bg-gray-800 rounded-lg p-4 shadow">
                <div class="text-2xl mb-2">‚ú®</div>
                <p class="text-xs text-gray-600 dark:text-gray-400">–≠–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç</p>
            </div>
            <div class="bg-white dark:bg-gray-800 rounded-lg p-4 shadow">
                <div class="text-2xl mb-2">üí¨</div>
                <p class="text-xs text-gray-600 dark:text-gray-400">–û–±—â–µ–Ω–∏–µ —Å –∞–≤—Ç–æ—Ä–∞–º–∏</p>
            </div>
            <div class="bg-white dark:bg-gray-800 rounded-lg p-4 shadow">
                <div class="text-2xl mb-2">üéÅ</div>
                <p class="text-xs text-gray-600 dark:text-gray-400">–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è</p>
            </div>
        </div>
    </div>
</div>
{% endblock %}
